<?php
//^array,(\d{4}),([0-9.]{6}),([^,]*),(\d{1,2})
//    array('\1','\2','\3',\4),
$preftbl = array(
    array( 'value' => 1, 'title' => '北海道' ),
    array( 'value' => 2, 'title' => '青森県' ),
    array( 'value' => 3, 'title' => '岩手県' ),
    array( 'value' => 4, 'title' => '宮城県' ),
    array( 'value' => 5, 'title' => '秋田県' ),
    array( 'value' => 6, 'title' => '山形県' ),
    array( 'value' => 7, 'title' => '福島県' ),
    array( 'value' => 8, 'title' => '茨城県' ),
    array( 'value' => 9, 'title' => '栃木県' ),
    array( 'value' => 10, 'title' => '群馬県' ),
    array( 'value' => 11, 'title' => '埼玉県' ),
    array( 'value' => 12, 'title' => '千葉県' ),
    array( 'value' => 13, 'title' => '東京都' ),
    array( 'value' => 14, 'title' => '神奈川県' ),
    array( 'value' => 15, 'title' => '新潟県' ),
    array( 'value' => 16, 'title' => '富山県' ),
    array( 'value' => 17, 'title' => '石川県' ),
    array( 'value' => 18, 'title' => '福井県' ),
    array( 'value' => 19, 'title' => '山梨県' ),
    array( 'value' => 20, 'title' => '長野県' ),
    array( 'value' => 21, 'title' => '岐阜県' ),
    array( 'value' => 22, 'title' => '静岡県' ),
    array( 'value' => 23, 'title' => '愛知県' ),
    array( 'value' => 24, 'title' => '三重県' ),
    array( 'value' => 25, 'title' => '滋賀県' ),
    array( 'value' => 26, 'title' => '京都府' ),
    array( 'value' => 27, 'title' => '大阪府' ),
    array( 'value' => 28, 'title' => '兵庫県' ),
    array( 'value' => 29, 'title' => '奈良県' ),
    array( 'value' => 30, 'title' => '和歌山県' ),
    array( 'value' => 31, 'title' => '鳥取県' ),
    array( 'value' => 32, 'title' => '島根県' ),
    array( 'value' => 33, 'title' => '岡山県' ),
    array( 'value' => 34, 'title' => '広島県' ),
    array( 'value' => 35, 'title' => '山口県' ),
    array( 'value' => 36, 'title' => '徳島県' ),
    array( 'value' => 37, 'title' => '香川県' ),
    array( 'value' => 38, 'title' => '愛媛県' ),
    array( 'value' => 39, 'title' => '高知県' ),
    array( 'value' => 40, 'title' => '福岡県' ),
    array( 'value' => 41, 'title' => '佐賀県' ),
    array( 'value' => 42, 'title' => '長崎県' ),
    array( 'value' => 43, 'title' => '熊本県' ),
    array( 'value' => 44, 'title' => '大分県' ),
    array( 'value' => 45, 'title' => '宮崎県' ),
    array( 'value' => 46, 'title' => '鹿児島県' ),
    array( 'value' => 47, 'title' => '沖縄県' ),
    array( 'value' => 50, 'title' => '予備' ),
);
$passtbl = array(
    array('0101','49482389',1),
    array('0102','45632676',1),
    array('0103','42665524',1),
    array('0104','74969665',1),
    array('0105','69944342',1),
    array('0106','85835464',1),
    array('0201','99292568',2),
    array('0202','85644479',2),
    array('0203','42447574',2),
    array('0204','26635869',2),
    array('0205','93765457',2),
    array('0206','85224655',2),
    array('0301','75994449',3),
    array('0302','46983397',3),
    array('0303','69484624',3),
    array('0304','73297662',3),
    array('0305','37842969',3),
    array('0306','36693388',3),
    array('0401','65739698',4),
    array('0402','54923676',4),
    array('0403','86642643',4),
    array('0404','49936694',4),
    array('0405','64265522',4),
    array('0406','46684459',4),
    array('0501','46743589',5),
    array('0502','86446446',5),
    array('0503','33434295',5),
    array('0504','34953232',5),
    array('0505','78599663',5),
    array('0506','38656484',5),
    array('0601','36742897',6),
    array('0602','92968538',6),
    array('0603','25843668',6),
    array('0604','46638724',6),
    array('0605','32923648',6),
    array('0606','94266664',6),
    array('0701','86565442',7),
    array('0702','36547259',7),
    array('0703','46386624',7),
    array('0704','36474842',7),
    array('0705','78856289',7),
    array('0706','25894589',7),
    array('0801','54646943',8),
    array('0802','83364427',8),
    array('0803','54446658',8),
    array('0804','29268637',8),
    array('0805','44294652',8),
    array('0806','47863997',8),
    array('0901','74464996',9),
    array('0902','66843869',9),
    array('0903','96474626',9),
    array('0904','44742352',9),
    array('0905','36924649',9),
    array('0906','76375974',9),
    array('1001','34944862',10),
    array('1002','44867994',10),
    array('1003','96352344',10),
    array('1004','44664697',10),
    array('1005','95473987',10),
    array('1006','35594525',10),
    array('1101','44743445',11),
    array('1102','94845446',11),
    array('1103','66445686',11),
    array('1104','85644966',11),
    array('1105','24664497',11),
    array('1106','66368247',11),
    array('1201','24549576',12),
    array('1202','49469278',12),
    array('1203','86377358',12),
    array('1204','77828546',12),
    array('1205','63884542',12),
    array('1206','69788248',12),
    array('1301','35666364',13),
    array('1302','55967875',13),
    array('1303','86466329',13),
    array('1304','36346445',13),
    array('1305','49658882',13),
    array('1306','34642654',13),
    array('1401','98748299',14),
    array('1402','88446693',14),
    array('1403','46368345',14),
    array('1404','86577449',14),
    array('1405','44992782',14),
    array('1406','62487984',14),
    array('1407','64465636',14),
    array('1408','55946567',14),
    array('1409','23577553',14),
    array('1410','77786949',14),
    array('1411','38948952',14),
    array('1412','87585323',14),
    array('1501','92444646',15),
    array('1502','85533464',15),
    array('1503','55646837',15),
    array('1504','83665684',15),
    array('1505','54576685',15),
    array('1506','45345972',15),
    array('1601','27542372',16),
    array('1602','94755635',16),
    array('1603','37345843',16),
    array('1604','69686846',16),
    array('1605','43672897',16),
    array('1606','34764564',16),
    array('1701','43226654',17),
    array('1702','94776578',17),
    array('1703','66545646',17),
    array('1704','68366688',17),
    array('1705','97943742',17),
    array('1706','63966324',17),
    array('1801','23348664',18),
    array('1802','38563893',18),
    array('1803','76624636',18),
    array('1804','34545699',18),
    array('1805','96882666',18),
    array('1806','48599462',18),
    array('1901','84534392',19),
    array('1902','54646322',19),
    array('1903','44698962',19),
    array('1904','93454493',19),
    array('1905','46643576',19),
    array('1906','92696424',19),
    array('2001','47444924',20),
    array('2002','86237249',20),
    array('2003','69598832',20),
    array('2004','49487943',20),
    array('2005','95692299',20),
    array('2006','67532647',20),
    array('2101','67397949',21),
    array('2102','47667536',21),
    array('2103','29236683',21),
    array('2104','52485365',21),
    array('2105','62792542',21),
    array('2106','54276446',21),
    array('2201','34369446',22),
    array('2202','58777655',22),
    array('2203','75696876',22),
    array('2204','24592625',22),
    array('2205','64464442',22),
    array('2206','52867454',22),
    array('2301','39669665',23),
    array('2302','65668464',23),
    array('2303','44838355',23),
    array('2304','92736744',23),
    array('2305','79245687',23),
    array('2306','42438465',23),
    array('2401','24694483',24),
    array('2402','46639946',24),
    array('2403','76474223',24),
    array('2404','46477696',24),
    array('2405','75699234',24),
    array('2406','47847676',24),
    array('2501','97932874',25),
    array('2502','49945578',25),
    array('2503','98855322',25),
    array('2504','54244544',25),
    array('2505','25227796',25),
    array('2506','87447952',25),
    array('2601','97735584',26),
    array('2602','74577794',26),
    array('2603','47692666',26),
    array('2604','26344888',26),
    array('2605','32464825',26),
    array('2606','72637466',26),
    array('2701','56873958',27),
    array('2702','54894996',27),
    array('2703','52628264',27),
    array('2704','62868889',27),
    array('2705','65327254',27),
    array('2706','22495235',27),
    array('2801','55397592',28),
    array('2802','66294682',28),
    array('2803','55789396',28),
    array('2804','66242276',28),
    array('2805','23624982',28),
    array('2806','96436634',28),
    array('2901','43634566',29),
    array('2902','45229223',29),
    array('2903','78685245',29),
    array('2904','52864454',29),
    array('2905','34665626',29),
    array('2906','87524563',29),
    array('3001','44466646',30),
    array('3002','96567665',30),
    array('3003','26447683',30),
    array('3004','27326296',30),
    array('3005','74257722',30),
    array('3006','46384644',30),
    array('3101','29448427',31),
    array('3102','27888998',31),
    array('3103','46876733',31),
    array('3104','45876649',31),
    array('3105','26449689',31),
    array('3106','94845447',31),
    array('3201','23444564',32),
    array('3202','99498946',32),
    array('3203','46629247',32),
    array('3204','43263964',32),
    array('3205','44674328',32),
    array('3206','27662866',32),
    array('3301','42776796',33),
    array('3302','33356445',33),
    array('3303','54564664',33),
    array('3304','49482389',33),
    array('3305','45632676',33),
    array('3306','42665524',33),
    array('3401','74969665',34),
    array('3402','69944342',34),
    array('3403','85835464',34),
    array('3404','99292568',34),
    array('3405','85644479',34),
    array('3406','42447574',34),
    array('3501','26635869',35),
    array('3502','93765457',35),
    array('3503','85224655',35),
    array('3504','75994449',35),
    array('3505','46983397',35),
    array('3506','69484624',35),
    array('3601','73297662',36),
    array('3602','37842969',36),
    array('3603','36693388',36),
    array('3604','65739698',36),
    array('3605','54923676',36),
    array('3606','86642643',36),
    array('3701','49936694',37),
    array('3702','64265522',37),
    array('3703','46684459',37),
    array('3704','46743589',37),
    array('3705','86446446',37),
    array('3706','33434295',37),
    array('3801','34953232',38),
    array('3802','78599663',38),
    array('3803','38656484',38),
    array('3804','36742897',38),
    array('3805','92968538',38),
    array('3806','25843668',38),
    array('3901','46638724',39),
    array('3902','32923648',39),
    array('3903','94266664',39),
    array('3904','86565442',39),
    array('3905','36547259',39),
    array('3906','46386624',39),
    array('4001','36474842',40),
    array('4002','78856289',40),
    array('4003','25894589',40),
    array('4004','54646943',40),
    array('4005','83364427',40),
    array('4006','54446658',40),
    array('4101','29268637',41),
    array('4102','44294652',41),
    array('4103','47863997',41),
    array('4104','74464996',41),
    array('4105','66843869',41),
    array('4106','96474626',41),
    array('4201','44742352',42),
    array('4202','36924649',42),
    array('4203','76375974',42),
    array('4204','34944862',42),
    array('4205','44867994',42),
    array('4206','96352344',42),
    array('4301','44664697',43),
    array('4302','95473987',43),
    array('4303','35594525',43),
    array('4304','44743445',43),
    array('4305','94845446',43),
    array('4306','66445686',43),
    array('4401','85644966',44),
    array('4402','24664497',44),
    array('4403','66368247',44),
    array('4404','24549576',44),
    array('4405','49469278',44),
    array('4406','86377358',44),
    array('4501','77828546',45),
    array('4502','63884542',45),
    array('4503','69788248',45),
    array('4504','35666364',45),
    array('4505','55967875',45),
    array('4506','86466329',45),
    array('4601','36346445',46),
    array('4602','49658882',46),
    array('4603','34642654',46),
    array('4604','98748299',46),
    array('4605','88446693',46),
    array('4606','46368345',46),
    array('4701','86577449',47),
    array('4702','44992782',47),
    array('4703','62487984',47),
    array('4704','64465636',47),
    array('4705','55946567',47),
    array('4706','23577553',47),
    array('5001','77786949',50),
    array('5002','38948952',50),
    array('5003','87585323',50),
    array('5004','92444646',50),
    array('5005','85533464',50),
    array('5006','55646837',50),
    array('5007','83665684',50),
    array('5008','54576685',50),
    array('5009','45345972',50),
    array('5010','27542372',50),
    array('5011','94755635',50),
    array('5012','37345843',50),
    array('5013','69686846',50),
    array('5014','43672897',50),
    array('5015','34764564',50),
    array('5016','43226654',50),
    array('5017','94776578',50),
    array('5018','66545646',50),
    array('5019','68366688',50),
    array('5020','97943742',50),
);

    $dbs = new mysqli( 'mysql3012.xserver.jp', 'keioffice_kendo', 'hprzjntc', 'keioffice_zenchu' );
//print_r($dbs);
    if( $dbs === false ){
        //接続失敗
        echo 'データベース接続に失敗しました。(1)';
        exit;
    }
    //データベース選択
    $dbs->set_charset( "utf8" );

    $disp = 1;
    $year = 2021;
    foreach( $passtbl as $pv )
    {
        for( $series = 7; $series <= 10; $series++ )
        {
            $sql = 'INSERT INTO `entry_info` (`series`, `year`, `disp_order`, `create_date`, `update_date`, `del`) VALUES ('.$series.', '.$year.', '.$disp.', NOW(), NOW(), 0)';
            echo $sql,'<br />';
            $dbs->query( $sql );
            $id = $dbs->insert_id;

            $pref = ( $pv[2] < 50 ) ? $pv[2] : 0;
            $sql = 'INSERT INTO `entry_field` (`series`, `year`, `info`, `field`, `data`) VALUES ( '.$series.', '.$year.', '.$id.', \'school_address_pref\', \''.$pref.'\')';
            echo $sql,'<br />';
            $dbs->query( $sql );

            $sql = 'INSERT INTO `entry_users` (`series`, `info`, `user_name`, `user_pass`, `del`, `create_date`, `update_date`) VALUES ('.$series.', '.$id.', \''.$pv[0].'\', SHA1(\''.$pv[1].'\'), 0, NOW(), NOW())';
            echo $sql,'<br />';
            $dbs->query( $sql );
        }
        $disp++;
    }

