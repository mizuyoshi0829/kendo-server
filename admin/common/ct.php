<?php
    $tbldm = array(
		array( 'place' => 1, 'place_match_no' => 1 ),
		array( 'place' => 1, 'place_match_no' => 3 ),
		array( 'place' => 1, 'place_match_no' => 2 ),
		array( 'place' => 2, 'place_match_no' => 1 ),
		array( 'place' => 2, 'place_match_no' => 3 ),
		array( 'place' => 2, 'place_match_no' => 2 ),
		array( 'place' => 3, 'place_match_no' => 1 ),
		array( 'place' => 3, 'place_match_no' => 3 ),
		array( 'place' => 3, 'place_match_no' => 2 ),
		array( 'place' => 4, 'place_match_no' => 1 ),
		array( 'place' => 4, 'place_match_no' => 3 ),
		array( 'place' => 4, 'place_match_no' => 2 ),
		array( 'place' => 5, 'place_match_no' => 1 ),
		array( 'place' => 5, 'place_match_no' => 3 ),
		array( 'place' => 5, 'place_match_no' => 2 ),
		array( 'place' => 6, 'place_match_no' => 1 ),
		array( 'place' => 6, 'place_match_no' => 3 ),
		array( 'place' => 6, 'place_match_no' => 2 ),
		array( 'place' => 7, 'place_match_no' => 1 ),
		array( 'place' => 7, 'place_match_no' => 3 ),
		array( 'place' => 7, 'place_match_no' => 2 ),
		array( 'place' => 8, 'place_match_no' => 1 ),
		array( 'place' => 8, 'place_match_no' => 3 ),
		array( 'place' => 8, 'place_match_no' => 2 ),
		array( 'place' => 1, 'place_match_no' => 4 ),
		array( 'place' => 1, 'place_match_no' => 6 ),
		array( 'place' => 1, 'place_match_no' => 5 ),
		array( 'place' => 2, 'place_match_no' => 4 ),
		array( 'place' => 2, 'place_match_no' => 6 ),
		array( 'place' => 2, 'place_match_no' => 5 ),
		array( 'place' => 3, 'place_match_no' => 4 ),
		array( 'place' => 3, 'place_match_no' => 6 ),
		array( 'place' => 3, 'place_match_no' => 5 ),
		array( 'place' => 4, 'place_match_no' => 4 ),
		array( 'place' => 4, 'place_match_no' => 6 ),
		array( 'place' => 4, 'place_match_no' => 5 ),
		array( 'place' => 5, 'place_match_no' => 4 ),
		array( 'place' => 5, 'place_match_no' => 6 ),
		array( 'place' => 5, 'place_match_no' => 5 ),
		array( 'place' => 6, 'place_match_no' => 4 ),
		array( 'place' => 6, 'place_match_no' => 6 ),
		array( 'place' => 6, 'place_match_no' => 5 ),
		array( 'place' => 7, 'place_match_no' => 4 ),
		array( 'place' => 7, 'place_match_no' => 6 ),
		array( 'place' => 7, 'place_match_no' => 5 ),
		array( 'place' => 8, 'place_match_no' => 4 ),
		array( 'place' => 8, 'place_match_no' => 6 ),
		array( 'place' => 8, 'place_match_no' => 5 )
    );
    $tbldw = array(
		array( 'place' => 1, 'place_match_no' => 7 ),
		array( 'place' => 1, 'place_match_no' => 9 ),
		array( 'place' => 1, 'place_match_no' => 8 ),
		array( 'place' => 2, 'place_match_no' => 7 ),
		array( 'place' => 2, 'place_match_no' => 9 ),
		array( 'place' => 2, 'place_match_no' => 8 ),
		array( 'place' => 3, 'place_match_no' => 7 ),
		array( 'place' => 3, 'place_match_no' => 9 ),
		array( 'place' => 3, 'place_match_no' => 8 ),
		array( 'place' => 4, 'place_match_no' => 7 ),
		array( 'place' => 4, 'place_match_no' => 9 ),
		array( 'place' => 4, 'place_match_no' => 8 ),
		array( 'place' => 5, 'place_match_no' => 7 ),
		array( 'place' => 5, 'place_match_no' => 9 ),
		array( 'place' => 5, 'place_match_no' => 8 ),
		array( 'place' => 6, 'place_match_no' => 7 ),
		array( 'place' => 6, 'place_match_no' => 9 ),
		array( 'place' => 6, 'place_match_no' => 8 ),
		array( 'place' => 7, 'place_match_no' => 7 ),
		array( 'place' => 7, 'place_match_no' => 9 ),
		array( 'place' => 7, 'place_match_no' => 8 ),
		array( 'place' => 8, 'place_match_no' => 7 ),
		array( 'place' => 8, 'place_match_no' => 9 ),
		array( 'place' => 8, 'place_match_no' => 8 ),
		array( 'place' => 1, 'place_match_no' => 10 ),
		array( 'place' => 1, 'place_match_no' => 12 ),
		array( 'place' => 1, 'place_match_no' => 11 ),
		array( 'place' => 2, 'place_match_no' => 10 ),
		array( 'place' => 2, 'place_match_no' => 12 ),
		array( 'place' => 2, 'place_match_no' => 11 ),
		array( 'place' => 3, 'place_match_no' => 10 ),
		array( 'place' => 3, 'place_match_no' => 12 ),
		array( 'place' => 3, 'place_match_no' => 11 ),
		array( 'place' => 4, 'place_match_no' => 10 ),
		array( 'place' => 4, 'place_match_no' => 12 ),
		array( 'place' => 4, 'place_match_no' => 11 ),
		array( 'place' => 5, 'place_match_no' => 10 ),
		array( 'place' => 5, 'place_match_no' => 12 ),
		array( 'place' => 5, 'place_match_no' => 11 ),
		array( 'place' => 6, 'place_match_no' => 10 ),
		array( 'place' => 6, 'place_match_no' => 12 ),
		array( 'place' => 6, 'place_match_no' => 11 ),
		array( 'place' => 7, 'place_match_no' => 10 ),
		array( 'place' => 7, 'place_match_no' => 12 ),
		array( 'place' => 7, 'place_match_no' => 11 ),
		array( 'place' => 8, 'place_match_no' => 10 ),
		array( 'place' => 8, 'place_match_no' => 12 ),
		array( 'place' => 8, 'place_match_no' => 11 )
    );
    $tbldtm = array(
		array( 'place' => 3, 'place_match_no' => 16 ),
		array( 'place' => 1, 'place_match_no' => 16 ),
		array( 'place' => 2, 'place_match_no' => 16 ),
		array( 'place' => 1, 'place_match_no' => 15 ),
		array( 'place' => 2, 'place_match_no' => 15 ),
		array( 'place' => 3, 'place_match_no' => 15 ),
		array( 'place' => 4, 'place_match_no' => 15 ),
		array( 'place' => 1, 'place_match_no' => 13 ),
		array( 'place' => 2, 'place_match_no' => 13 ),
		array( 'place' => 3, 'place_match_no' => 13 ),
		array( 'place' => 4, 'place_match_no' => 13 ),
		array( 'place' => 5, 'place_match_no' => 13 ),
		array( 'place' => 6, 'place_match_no' => 13 ),
		array( 'place' => 7, 'place_match_no' => 13 ),
		array( 'place' => 8, 'place_match_no' => 13 ),
    );
    $tbldtw = array(
		array( 'place' => 6, 'place_match_no' => 16 ),
		array( 'place' => 4, 'place_match_no' => 16 ),
		array( 'place' => 5, 'place_match_no' => 16 ),
		array( 'place' => 5, 'place_match_no' => 15 ),
		array( 'place' => 6, 'place_match_no' => 15 ),
		array( 'place' => 7, 'place_match_no' => 15 ),
		array( 'place' => 8, 'place_match_no' => 15 ),
		array( 'place' => 1, 'place_match_no' => 14 ),
		array( 'place' => 2, 'place_match_no' => 14 ),
		array( 'place' => 3, 'place_match_no' => 14 ),
		array( 'place' => 4, 'place_match_no' => 14 ),
		array( 'place' => 5, 'place_match_no' => 14 ),
		array( 'place' => 6, 'place_match_no' => 14 ),
		array( 'place' => 7, 'place_match_no' => 14 ),
		array( 'place' => 8, 'place_match_no' => 14 ),
    );

    $tblkm = array(
		array( 'place' => 3, 'place_match_no' => 24 ),
		array( 'place' => 1, 'place_match_no' => 24 ),
		array( 'place' => 2, 'place_match_no' => 24 ),
		array( 'place' => 1, 'place_match_no' => 23 ),
		array( 'place' => 2, 'place_match_no' => 23 ),
		array( 'place' => 3, 'place_match_no' => 23 ),
		array( 'place' => 4, 'place_match_no' => 23 ),
		array( 'place' => 1, 'place_match_no' => 21 ),
		array( 'place' => 2, 'place_match_no' => 21 ),
		array( 'place' => 3, 'place_match_no' => 21 ),
		array( 'place' => 4, 'place_match_no' => 21 ),
		array( 'place' => 5, 'place_match_no' => 21 ),
		array( 'place' => 6, 'place_match_no' => 21 ),
		array( 'place' => 7, 'place_match_no' => 21 ),
		array( 'place' => 8, 'place_match_no' => 21 ),
		array( 'place' => 1, 'place_match_no' => 17 ),
		array( 'place' => 2, 'place_match_no' => 17 ),
		array( 'place' => 3, 'place_match_no' => 17 ),
		array( 'place' => 4, 'place_match_no' => 17 ),
		array( 'place' => 5, 'place_match_no' => 17 ),
		array( 'place' => 6, 'place_match_no' => 17 ),
		array( 'place' => 7, 'place_match_no' => 17 ),
		array( 'place' => 8, 'place_match_no' => 17 ),
		array( 'place' => 1, 'place_match_no' => 18 ),
		array( 'place' => 2, 'place_match_no' => 18 ),
		array( 'place' => 3, 'place_match_no' => 18 ),
		array( 'place' => 4, 'place_match_no' => 18 ),
		array( 'place' => 5, 'place_match_no' => 18 ),
		array( 'place' => 6, 'place_match_no' => 18 ),
		array( 'place' => 7, 'place_match_no' => 18 ),
		array( 'place' => 8, 'place_match_no' => 18 ),
    );
    $tblkw = array(
		array( 'place' => 7, 'place_match_no' => 24 ),
		array( 'place' => 5, 'place_match_no' => 24 ),
		array( 'place' => 6, 'place_match_no' => 24 ),
		array( 'place' => 5, 'place_match_no' => 23 ),
		array( 'place' => 6, 'place_match_no' => 23 ),
		array( 'place' => 7, 'place_match_no' => 23 ),
		array( 'place' => 8, 'place_match_no' => 23 ),
		array( 'place' => 1, 'place_match_no' => 22 ),
		array( 'place' => 2, 'place_match_no' => 22 ),
		array( 'place' => 3, 'place_match_no' => 22 ),
		array( 'place' => 4, 'place_match_no' => 22 ),
		array( 'place' => 5, 'place_match_no' => 22 ),
		array( 'place' => 6, 'place_match_no' => 22 ),
		array( 'place' => 7, 'place_match_no' => 22 ),
		array( 'place' => 8, 'place_match_no' => 22 ),
		array( 'place' => 1, 'place_match_no' => 19 ),
		array( 'place' => 2, 'place_match_no' => 19 ),
		array( 'place' => 3, 'place_match_no' => 19 ),
		array( 'place' => 4, 'place_match_no' => 19 ),
		array( 'place' => 5, 'place_match_no' => 19 ),
		array( 'place' => 6, 'place_match_no' => 19 ),
		array( 'place' => 7, 'place_match_no' => 19 ),
		array( 'place' => 8, 'place_match_no' => 19 ),
		array( 'place' => 1, 'place_match_no' => 20 ),
		array( 'place' => 2, 'place_match_no' => 20 ),
		array( 'place' => 3, 'place_match_no' => 20 ),
		array( 'place' => 4, 'place_match_no' => 20 ),
		array( 'place' => 5, 'place_match_no' => 20 ),
		array( 'place' => 6, 'place_match_no' => 20 ),
		array( 'place' => 7, 'place_match_no' => 20 ),
		array( 'place' => 8, 'place_match_no' => 20 ),
    );

	$dbs = new mysqli( 'mysql3012.xserver.jp', 'keioffice_kendo', 'hprzjntc', 'keioffice_kendo' );
	if( $dbs === false ){
		//接続失敗
		echo 'データベース接続に失敗しました。(1)';
		exit;
	}
	//データベース選択
	$dbs->set_charset( "utf8" );

    $sql = 'select dantai_match.id, dantai_match.place, dantai_match.place_match_no,'
        .' dantai_league_match.league, dantai_league.series, dantai_league.year'
        .' from dantai_match'
        .' inner join dantai_league_match on dantai_league_match.match=dantai_match.id'
        .' inner join dantai_league on dantai_league.id=dantai_league_match.league'
        .' where dantai_league.series=58 and dantai_league.year=2018';
	$rs = $dbs->query( $sql );
	if( $rs === false ){ exit; }
    $tblindex = 0;
    while( $row = $rs->fetch_assoc() ){
        $sql = 'update dantai_match set place='.$tbldm[$tblindex]['place'].', place_match_no='.$tbldm[$tblindex]['place_match_no'].' where id='.$row['id'];
        echo $sql."<br />\n";
        $dbs->query( $sql );
        $tblindex++;
	}

    $sql = 'select dantai_match.id, dantai_match.place, dantai_match.place_match_no,'
        .' dantai_league_match.league, dantai_league.series, dantai_league.year'
        .' from dantai_match'
        .' inner join dantai_league_match on dantai_league_match.match=dantai_match.id'
        .' inner join dantai_league on dantai_league.id=dantai_league_match.league'
        .' where dantai_league.series=59 and dantai_league.year=2018';
	$rs = $dbs->query( $sql );
	if( $rs === false ){ exit; }
    $tblindex = 0;
    while( $row = $rs->fetch_assoc() ){
        $sql = 'update dantai_match set place='.$tbldw[$tblindex]['place'].', place_match_no='.$tbldw[$tblindex]['place_match_no'].' where id='.$row['id'];
        echo $sql."<br />\n";
        $dbs->query( $sql );
        $tblindex++;
	}

    $sql = 'select dantai_match.id, dantai_match.place, dantai_match.place_match_no,'
        .' dantai_tournament_match.tournament, dantai_tournament.series, dantai_tournament.year'
        .' from dantai_match'
        .' inner join dantai_tournament_match on dantai_tournament_match.match=dantai_match.id'
        .' inner join dantai_tournament on dantai_tournament.id=dantai_tournament_match.tournament'
        .' where dantai_tournament.series=58 and dantai_tournament.year=2018';
	$rs = $dbs->query( $sql );
	if( $rs === false ){ exit; }
    $tblindex = 0;
    while( $row = $rs->fetch_assoc() ){
        $sql = 'update dantai_match set place='.$tbldtm[$tblindex]['place'].', place_match_no='.$tbldtm[$tblindex]['place_match_no'].' where id='.$row['id'];
        echo $sql."<br />\n";
        $dbs->query( $sql );
        $tblindex++;
	}

    $sql = 'select dantai_match.id, dantai_match.place, dantai_match.place_match_no,'
        .' dantai_tournament_match.tournament, dantai_tournament.series, dantai_tournament.year'
        .' from dantai_match'
        .' inner join dantai_tournament_match on dantai_tournament_match.match=dantai_match.id'
        .' inner join dantai_tournament on dantai_tournament.id=dantai_tournament_match.tournament'
        .' where dantai_tournament.series=59 and dantai_tournament.year=2018';
	$rs = $dbs->query( $sql );
	if( $rs === false ){ exit; }
    $tblindex = 0;
    while( $row = $rs->fetch_assoc() ){
        $sql = 'update dantai_match set place='.$tbldtw[$tblindex]['place'].', place_match_no='.$tbldtw[$tblindex]['place_match_no'].' where id='.$row['id'];
        echo $sql."<br />\n";
        $dbs->query( $sql );
        $tblindex++;
	}

    $sql = 'select kojin_match.id, kojin_match.place, kojin_match.place_match_no,'
        .' kojin_tournament_match.tournament, kojin_tournament.series, kojin_tournament.year'
        .' from kojin_match'
        .' inner join kojin_tournament_match on kojin_tournament_match.match=kojin_match.id'
        .' inner join kojin_tournament on kojin_tournament.id=kojin_tournament_match.tournament'
        .' where kojin_tournament.series=60 and kojin_tournament.year=2018';
	$rs = $dbs->query( $sql );
	if( $rs === false ){ exit; }
    $tblindex = 0;
    while( $row = $rs->fetch_assoc() ){
        $sql = 'update kojin_match set place=\''.$tblkm[$tblindex]['place'].'\', place_match_no='.$tblkm[$tblindex]['place_match_no'].' where id='.$row['id'];
        echo $sql."<br />\n";
        $dbs->query( $sql );
        $tblindex++;
	}

    $sql = 'select kojin_match.id, kojin_match.place, kojin_match.place_match_no,'
        .' kojin_tournament_match.tournament, kojin_tournament.series, kojin_tournament.year'
        .' from kojin_match'
        .' inner join kojin_tournament_match on kojin_tournament_match.match=kojin_match.id'
        .' inner join kojin_tournament on kojin_tournament.id=kojin_tournament_match.tournament'
        .' where kojin_tournament.series=61 and kojin_tournament.year=2018';
	$rs = $dbs->query( $sql );
	if( $rs === false ){ exit; }
    $tblindex = 0;
    while( $row = $rs->fetch_assoc() ){
        $sql = 'update kojin_match set place=\''.$tblkw[$tblindex]['place'].'\', place_match_no='.$tblkw[$tblindex]['place_match_no'].' where id='.$row['id'];
        echo $sql."<br />\n";
        $dbs->query( $sql );
        $tblindex++;
	}

    $dbs->close();
